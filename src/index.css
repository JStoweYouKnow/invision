@import url('https://fonts.googleapis.com/css2?family=Audiowide&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap');

@import "tailwindcss";
@config "../tailwind.config.js";

@layer base {
  :root {
    /* --- Typography Tokens --- */
    --font-display: 'Audiowide', cursive;
    --font-body: 'Outfit', system-ui, sans-serif;
    --base-size: 1rem;
    --text-caption: 0.64rem;
    --text-small: 0.8rem;
    --text-body: 1rem;
    --text-body-lg: 1.25rem;
    --text-h6: 1.25rem;
    --text-h5: 1.563rem;
    --text-h4: 1.953rem;
    --text-h3: 2.441rem;
    --text-h2: 3.052rem;
    --text-h1: 3.815rem;
    --lh-body: 1.6;
    --lh-heading: 1.1;
    --fw-regular: 400;
    --fw-bold: 700;

    /* --- Theme Colors (Cosmic/Psychedelic) --- */
    --color-bg-deep: #0b0d17;
    --color-text-main: #e2e8f0;
    --color-text-muted: #94a3b8;
    --color-neon-pink: #d946ef;
    --color-neon-cyan: #06b6d4;
    --color-neon-purple: #8b5cf6;
    --color-glow: rgba(217, 70, 239, 0.4);

    --background: 260 80% 8%;
    /* #0f0529 - Very Deep Midnight Purple */
    --foreground: 270 20% 95%;
    /* #f3e8ff - Starlight White */

    --card: 0 0% 100%;
    /* White (Thoughts/Clouds) */
    --card-foreground: 270 50% 20%;
    /* Deep Violet for text inside cards */

    --popover: 260 80% 12%;
    --popover-foreground: 270 20% 95%;

    --primary: 271 81% 65%;
    /* #a855f7 - Purple 500 (Glowing) */
    --primary-foreground: 0 0% 100%;

    --secondary: 260 50% 15%;
    /* Darker purple/slate for panels */
    --secondary-foreground: 270 20% 95%;

    --muted: 260 40% 20%;
    --muted-foreground: 260 20% 70%;
    /* Soft Lavender Gray */

    --accent: 320 80% 60%;
    /* Pink/Magenta Glow */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 260 40% 20%;
    /* Subtle dark border */
    --input: 260 40% 20%;
    --ring: 271 81% 65%;

    --radius: 1.5rem;

    /* ═══════════════════════════════════════════════════════════════
       COSMIC JOURNEY DESIGN TOKENS
       ═══════════════════════════════════════════════════════════════ */

    /* Celestial Body Glows */
    --glow-planet: 271 81% 46%;
    /* #7c3aed - Violet */
    --glow-moon: 220 14% 76%;
    /* #9ca3af - Silver Gray */
    --glow-gas-giant: 27 96% 61%;
    /* #fb923c - Orange */
    --glow-ice-planet: 187 92% 69%;
    /* #67e8f9 - Cyan */
    --glow-star: 48 98% 77%;
    /* #fef08a - Gold Yellow */
    --glow-galaxy: 280 100% 70%;
    /* Multi-color handled via gradient */

    /* Voyage Status Colors */
    --voyage-planning: 220 14% 50%;
    /* Gray - Dotted trajectory */
    --voyage-launched: 271 81% 65%;
    /* Purple - Active */
    --voyage-cruising: 217 91% 60%;
    /* #3b82f6 - Blue */
    --voyage-approaching: 45 93% 58%;
    /* #fbbf24 - Gold */
    --voyage-landed: 142 71% 45%;
    /* #22c55e - Green */

    /* Waypoint Status Colors */
    --waypoint-locked: 260 20% 40%;
    --waypoint-available: 217 91% 60%;
    --waypoint-in-progress: 271 81% 65%;
    --waypoint-completed: 45 93% 58%;
    --waypoint-urgent: 0 72% 51%;
    /* #dc2626 - Red */

    /* The Guide (AI Assistant) */
    --guide-aurora-start: 271 81% 65%;
    --guide-aurora-mid: 280 100% 70%;
    --guide-aurora-end: 320 80% 60%;
    --guide-message-bg: 271 81% 65% / 0.15;
    --guide-border: 271 81% 65%;

    /* Achievement & Celebration */
    --achievement-gold: 45 93% 58%;
    --achievement-glow: 45 100% 70%;
    --stardust-primary: 45 93% 77%;
    --stardust-secondary: 271 81% 77%;

    /* Cosmos Map Layers */
    --cosmos-deep: 260 80% 4%;
    --cosmos-nebula: 280 60% 20%;
    --cosmos-dust: 260 30% 30% / 0.3;

    /* Motion Durations */
    --motion-drift: 12s;
    --motion-orbit: 30s;
    --motion-pulse: 3s;
    --motion-warp: 400ms;
    --motion-materialize: 500ms;
  }

  /* Dark mode override - we might just force light mode for now as per design */
  .dark {
    --background: 270 50% 10%;
    --foreground: 300 20% 98%;
    /* ... rest can stay or be ignored if we force light */
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  html,
  body,
  #root {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  body {
    background-color: var(--color-bg-deep);
    color: var(--color-text-main);
    font-family: var(--font-body);
    font-size: var(--text-body);
    line-height: var(--lh-body);

    /* Cosmic Background */
    background-image:
      radial-gradient(circle at 50% 0%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 100% 0%, rgba(6, 182, 212, 0.1) 0%, transparent 30%),
      linear-gradient(to bottom, #0b0d17 0%, #1a1b26 100%);
    min-height: 100vh;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-display);
  }

  /* Force all links to be white unless overridden by utility classes */
  a {
    color: white;
    text-decoration: none;
  }

  a:hover {
    color: rgba(255, 255, 255, 0.8);
  }
}

/* Custom Utilities for Glassmorphism */
@layer utilities {
  .glass {
    background-color: rgba(255, 255, 255, 0.08);
    /* Slightly more visible glass */
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  .glass-card {
    background-color: rgba(30, 41, 59, 0.6);
    /* Lighter slate (slate-800ish) for better contrast */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  }

  .text-gradient {
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    background-image: linear-gradient(to right, #818cf8, #ec4899);
    /* indigo-400 to pink-500 */
  }

  .text-gradient-success {
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    background-image: linear-gradient(to right, #34d399, #06b6d4);
    /* emerald-400 to cyan-500 */
  }
}

/* React Big Calendar Customization */
.rbc-calendar {
  font-family: 'Inter', sans-serif;
}

.rbc-month-view,
.rbc-time-view,
.rbc-agenda-view {
  border: none !important;
}

.rbc-header {
  border-bottom: none !important;
  padding: 12px 0 !important;
  font-weight: 600 !important;
  color: rgba(255, 255, 255, 0.9) !important;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  background: transparent !important;
}

.rbc-header:hover {
  color: rgba(255, 255, 255, 1) !important;
  background: rgba(255, 255, 255, 0.05) !important;
}

.rbc-day-bg+.rbc-day-bg {
  border-left: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.rbc-month-row+.rbc-month-row {
  border-top: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.rbc-off-range-bg {
  background: transparent !important;
  opacity: 0.3;
}

.rbc-date-cell {
  padding: 8px !important;
  font-size: 0.875rem;
  text-align: center;
  color: rgba(255, 255, 255, 0.8);
}

.rbc-today {
  background-color: rgba(79, 70, 229, 0.1) !important;
  /* brand-indigo/10 */
}

.rbc-time-content {
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.rbc-timeslot-group {
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.rbc-time-view-resources .rbc-time-gutter,
.rbc-time-view-resources .rbc-time-header-gutter {
  border-color: rgba(255, 255, 255, 0.1) !important;
}

.rbc-day-slot .rbc-time-slot {
  border-top: 1px solid rgba(255, 255, 255, 0.02) !important;
}

.rbc-current-time-indicator {
  background-color: #ec4899 !important;
  /* brand-pink */
}


/* --- Typography Utilities --- */
.text-caption {
  font-family: var(--font-body);
  font-size: var(--text-caption);
  color: var(--color-text-muted);
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.text-small {
  font-family: var(--font-body);
  font-size: var(--text-small);
}

.text-body {
  font-family: var(--font-body);
  font-size: var(--text-body);
}

.text-body-lg {
  font-family: var(--font-body);
  font-size: var(--text-body-lg);
}

/* Headings (Display Font + Clamp + Glow) */
.text-h1,
.text-h2,
.text-h3,
.text-h4,
.text-h5,
.text-h6 {
  font-family: var(--font-display);
  line-height: var(--lh-heading);
  margin-block: 0.5em;
  color: #fff;
  text-shadow: 0 0 12px var(--color-glow);
  font-weight: var(--fw-regular);
}

.text-h6 {
  font-size: clamp(1rem, 2vw, var(--text-h6));
}

.text-h5 {
  font-size: clamp(1.25rem, 2.5vw, var(--text-h5));
}

.text-h4 {
  font-size: clamp(1.5rem, 3vw, var(--text-h4));
}

.text-h3 {
  font-size: clamp(1.75rem, 4vw, var(--text-h3));
}

.text-h2 {
  font-size: clamp(2rem, 5vw, var(--text-h2));
}

.text-h1 {
  font-size: clamp(2.5rem, 7vw, var(--text-h1));
}

.glass-event {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* --- macOS Modal System --- */
.modal-backdrop-macos {
  background-color: rgba(0, 0, 0, 0.4) !important;
  backdrop-filter: blur(8px) !important;
}

.modal-macos {
  /* Visual Style */
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(24px) saturate(180%) !important;
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.05),
    0 24px 72px -12px rgba(0, 0, 0, 0.4),
    0 12px 24px -8px rgba(0, 0, 0, 0.2) !important;

  /* Shape */
  border-radius: 16px !important;
  border: 1px solid rgba(255, 255, 255, 0.6) !important;
}

@layer components {

  /* Base Button */
  .btn {
    @apply inline-flex items-center justify-center rounded-full font-bold transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand-indigo ring-offset-black/50 select-none;
  }

  /* Sizes */
  .btn--sm {
    @apply px-4 py-1.5 text-xs;
  }

  .btn--md {
    @apply px-6 py-2.5 text-sm;
  }

  .btn--lg {
    @apply px-8 py-4 text-base tracking-wide;
  }

  .btn--icon {
    @apply p-2.5 aspect-square;
  }

  /* Variants */
  .btn--primary {
    @apply bg-brand-indigo text-white shadow-lg shadow-brand-indigo/30 hover:bg-brand-indigo/90 hover:shadow-brand-indigo/40 active:scale-[0.98];
  }

  .btn--secondary {
    @apply bg-white/10 text-white backdrop-blur-md border border-white/10 hover:bg-white/20 hover:border-white/20 active:scale-[0.98];
  }

  .btn--tertiary {
    @apply bg-transparent text-white/70 hover:text-white hover:bg-white/5 active:scale-[0.98];
  }

  .btn--destructive {
    @apply bg-red-500/10 text-red-500 border border-red-500/20 hover:bg-red-500/20 active:scale-[0.98];
  }

  .btn--ghost {
    @apply bg-transparent text-white hover:bg-white/10 active:scale-[0.98];
  }
}

/* ═══════════════════════════════════════════════════════════════
   SKELETON LOADING ANIMATIONS
   ═══════════════════════════════════════════════════════════════ */

@keyframes skeleton-shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

.skeleton-shimmer {
  background: linear-gradient(90deg,
      rgba(255, 255, 255, 0.03) 0%,
      rgba(255, 255, 255, 0.08) 20%,
      rgba(168, 85, 247, 0.12) 40%,
      rgba(255, 255, 255, 0.08) 60%,
      rgba(255, 255, 255, 0.03) 100%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 2s ease-in-out infinite;
}